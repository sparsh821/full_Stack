class Cart{constructor(){this.items=[];}addItem(n,p,q){this.items.push({name:n,price:p,qty:q});}getTotal(){return this.items.reduce((a,x)=>a+x.price*x.qty,0);}applyCoupon(c){let r=/^(SAVE|DISC)\d+$/;if(r.test(c)){let d=parseInt(c.match(/\d+/)[0]);return this.getTotal()*(1-d/100);}return this.getTotal();}}let c=new Cart();c.addItem("A",100,2);c.addItem("B",200,1);console.log(c.applyCoupon("SAVE20"));